{
  "hash": "45c5904605be2681bc98de3a319eb8f1",
  "result": {
    "markdown": "---\ntitle: \"Child Mortality\"\nauthor: \"Karol\"\ndate: \"2023-03-18\"\noutput: html_document\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(emojifont)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.0\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(usefunc)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'usefunc'\n\nThe following object is masked from 'package:dplyr':\n\n    last\n```\n:::\n\n```{.r .cell-code}\nlibrary(showtext)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: sysfonts\nLoading required package: showtextdb\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\nThe rate of child mortality is at its lowest point ever. From 12.5 million in 1990 to 5.2 million in 2019, child mortality has more than halved in less than three decades. It is essential to recognize this significant accomplishment.\n\nNations committed to achieving Sustainable Development Goals (SDGs). By 2030, all countries must achieve at least a 2.5% child mortality rate. This would imply that regardless of where a baby is born, more than 97.5% survive the first five years of their existence. Currently, 3.9% of children worldwide die before turning five, equating to an average of 15,000 deaths per day.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <-read.csv(\"https://raw.githubusercontent.com/karolo89/Raw_Data/main/child-deaths-igme-data.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- tibble(year = c(1800, 1900, 2020),\n             percent_die = c(43.3, 36.2, 3.9))\n\nfont_add_google(\"Roboto Slab\", \"slab\")\nfont_add_google(\"Roboto\", \"roboto\")\nshowtext_auto()\n\n# prep data\ndf_data <- df %>%\n  mutate(per_hundred = round(percent_die),\n         survive = (100 - per_hundred),\n         facet_label = paste0(year, \" (\", survive, \"%)\")) %>%\n  pivot_longer(cols = 3:4, values_to = \"perc\", names_to = \"type\") %>%\n  select(-percent_die)\n\nplot_data <- rep_df(expand.grid(x = rep(1:10), y = rep(1:10)), length(unique(df_data$facet_label))) %>%\n  mutate(year = rep(unique(df_data$facet_label), each = 100),\n         label = fontawesome('fa-user'),\n         type = rep(df_data$type, times = df_data$perc))\n\n# plot\nggplot() +\n  geom_text(data = plot_data,\n            mapping = aes(x = x,\n                          y = y,\n                          label = label,\n                          colour = type),\n            family='fontawesome-webfont', size = 6) +\n  facet_wrap(~year) +\n  \n  scale_colour_manual(\"\", values = c(\"#d3d3d3\", \"#293241\")) +\n  \n  labs(title = \"Child mortality rates continue to fall\",\n       subtitle = str_wrap_break(\"What percentage of children live beyond their fifth birthday?\\n\\n\", 70),\n       caption = \"Karol O. | Data: ourworldindata.org\",\n       x = \"\",\n       y = \"\") +\n  \n  theme_minimal() +\n  \n  theme(panel.spacing = unit(2, \"lines\"),\n        \n        plot.background = element_rect(fill = \"#EEE4E1\", colour=\"#EEE4E1\"),\n        panel.background = element_rect(fill = \"#EEE4E1\", colour= \"#EEE4E1\"),\n        legend.position=\"none\",\n        strip.background =element_rect(fill=\"#EEE4E1\", colour =\"#EEE4E1\"),\n        strip.text = element_text(colour = '#3D5A80', family=\"slab\", size=24),\n        plot.title = element_text(colour = \"#3D5A80\", size=26, hjust = 0.5, family=\"slab\"),\n        plot.subtitle = element_text(colour = \"#404040\", size=14, hjust = 0.5, family=\"slab\"),\n        plot.caption = element_text(colour = \"#404040\", size=12, hjust = 0.01, family=\"slab\"),\n        \n        \n        \n        plot.margin = unit(c(0.5, 0.5, 0.5, 0.5), \"cm\"),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.text = element_blank())\n```\n\n::: {.cell-output-display}\n![](Mortality_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Mortality_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}