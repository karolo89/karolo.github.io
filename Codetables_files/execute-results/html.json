{
  "hash": "cc737d9a3da4fd8c287d6a4878bf23cf",
  "result": {
    "markdown": "---\ntitle: \"TABLES\"\nauthor: \"Karol Orozco\"\ndate: today\nimage: \"stock.png\"\n---\n\n\n\n\n# Load the weekly Data\n\nDownload the weekly data and make available in the `tt` object.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntt <- tt_load(\"2023-02-07\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 6 Github queries remaining until 2023-02-10 10:52:01 AM PST.\nOnly 6 Github queries remaining until 2023-02-10 10:52:01 AM PST.\nOnly 6 Github queries remaining until 2023-02-10 10:52:01 AM PST.\nOnly 6 Github queries remaining until 2023-02-10 10:52:01 AM PST.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 6 Github queries remaining until 2023-02-10 10:52:00 AM PST.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Compiling #TidyTuesday Information for 2023-02-07 ----\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 5 Github queries remaining until 2023-02-10 10:52:00 AM PST.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- There are 2 files available ---\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 4 Github queries remaining until 2023-02-10 10:52:00 AM PST.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Starting Download ---\n```\n:::\n\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 4 Github queries remaining until 2023-02-10 10:52:00 AM PST.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\tDownloading file 1 of 2: `big_tech_stock_prices.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 3 Github queries remaining until 2023-02-10 10:52:01 AM PST.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\tDownloading file 2 of 2: `big_tech_companies.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOnly 2 Github queries remaining until 2023-02-10 10:52:01 AM PST.\n```\n:::\n\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Download complete ---\n```\n:::\n:::\n\n\n\n# Readme\n\nTake a look at the readme for the weekly data to get insight on the dataset.\nThis includes a data dictionary, source, and a link to an article on the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntt\n```\n:::\n\n\n\n# Glimpse Data\n\nTake an initial look at the format of the data available.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntt %>% \n  map(glimpse)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 45,088\nColumns: 8\n$ stock_symbol <chr> \"AAPL\", \"AAPL\", \"AAPL\", \"AAPL\", \"AAPL\", \"AAPL\", \"AAPL\", \"…\n$ date         <date> 2010-01-04, 2010-01-05, 2010-01-06, 2010-01-07, 2010-01-…\n$ open         <dbl> 7.622500, 7.664286, 7.656429, 7.562500, 7.510714, 7.60000…\n$ high         <dbl> 7.660714, 7.699643, 7.686786, 7.571429, 7.571429, 7.60714…\n$ low          <dbl> 7.585000, 7.616071, 7.526786, 7.466071, 7.466429, 7.44464…\n$ close        <dbl> 7.643214, 7.656429, 7.534643, 7.520714, 7.570714, 7.50392…\n$ adj_close    <dbl> 6.515213, 6.526476, 6.422664, 6.410790, 6.453412, 6.39648…\n$ volume       <dbl> 493729600, 601904800, 552160000, 477131200, 447610800, 46…\nRows: 14\nColumns: 2\n$ stock_symbol <chr> \"AAPL\", \"ADBE\", \"AMZN\", \"CRM\", \"CSCO\", \"GOOGL\", \"IBM\", \"I…\n$ company      <chr> \"Apple Inc.\", \"Adobe Inc.\", \"Amazon.com, Inc.\", \"Salesfor…\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n$big_tech_stock_prices\n# A tibble: 45,088 × 8\n   stock_symbol date        open  high   low close adj_close    volume\n   <chr>        <date>     <dbl> <dbl> <dbl> <dbl>     <dbl>     <dbl>\n 1 AAPL         2010-01-04  7.62  7.66  7.58  7.64      6.52 493729600\n 2 AAPL         2010-01-05  7.66  7.70  7.62  7.66      6.53 601904800\n 3 AAPL         2010-01-06  7.66  7.69  7.53  7.53      6.42 552160000\n 4 AAPL         2010-01-07  7.56  7.57  7.47  7.52      6.41 477131200\n 5 AAPL         2010-01-08  7.51  7.57  7.47  7.57      6.45 447610800\n 6 AAPL         2010-01-11  7.6   7.61  7.44  7.50      6.40 462229600\n 7 AAPL         2010-01-12  7.47  7.49  7.37  7.42      6.32 594459600\n 8 AAPL         2010-01-13  7.42  7.53  7.29  7.52      6.41 605892000\n 9 AAPL         2010-01-14  7.50  7.52  7.46  7.48      6.38 432894000\n10 AAPL         2010-01-15  7.53  7.56  7.35  7.35      6.27 594067600\n# … with 45,078 more rows\n\n$big_tech_companies\n# A tibble: 14 × 2\n   stock_symbol company                                    \n   <chr>        <chr>                                      \n 1 AAPL         Apple Inc.                                 \n 2 ADBE         Adobe Inc.                                 \n 3 AMZN         Amazon.com, Inc.                           \n 4 CRM          Salesforce, Inc.                           \n 5 CSCO         Cisco Systems, Inc.                        \n 6 GOOGL        Alphabet Inc.                              \n 7 IBM          International Business Machines Corporation\n 8 INTC         Intel Corporation                          \n 9 META         Meta Platforms, Inc.                       \n10 MSFT         Microsoft Corporation                      \n11 NFLX         Netflix, Inc.                              \n12 NVDA         NVIDIA Corporation                         \n13 ORCL         Oracle Corporation                         \n14 TSLA         Tesla, Inc.                                \n```\n:::\n:::\n\n\n# Wrangle\n\nExplore the data and process it into a nice format for plotting! Access each dataset by name by using a dollarsign after the `tt` object and then the name of the data set.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(quantmod)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: xts\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: zoo\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'zoo'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    as.Date, as.Date.numeric\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'xts'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:dplyr':\n\n    first, last\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: TTR\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nRegistered S3 method overwritten by 'quantmod':\n  method            from\n  as.zoo.data.frame zoo \n```\n:::\n\n```{.r .cell-code}\n stocks <- tt$big_tech_companies %>%\n inner_join(tt$big_tech_stock_prices, by = \"stock_symbol\") %>%\n mutate(company_short = str_remove(str_remove(str_remove(company, \" Corporation\"), \" Inc.\"), \",\"),\ncompany_short = case_when(\n  company_short == \"International Business Machines\" ~ \"IBM\",\ncompany_short == \"Cisco Systems\" ~ \"Cisco\",\n company_short == \"Meta Platforms\" ~ \"Meta\",\n TRUE ~ company_short ))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in inner_join(., tt$big_tech_stock_prices, by = \"stock_symbol\"): Each row in `x` is expected to match at most 1 row in `y`.\nℹ Row 1 of `x` matches multiple rows.\nℹ If multiple matches are expected, set `multiple = \"all\"` to silence this\n  warning.\n```\n:::\n\n```{.r .cell-code}\nstock_symbols <- tt$big_tech_companies %>%\n  distinct(stock_symbol) %>%\n  pull(stock_symbol)\ngetSymbols(stock_symbols, src = 'yahoo')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\npausing 1 second between requests for more than 5 symbols\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\npausing 1 second between requests for more than 5 symbols\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"AAPL\"  \"ADBE\"  \"AMZN\"  \"CRM\"   \"CSCO\"  \"GOOGL\" \"IBM\"   \"INTC\"  \"META\" \n[10] \"MSFT\"  \"NFLX\"  \"NVDA\"  \"ORCL\"  \"TSLA\" \n```\n:::\n\n```{.r .cell-code}\nxts_to_df <- function(df){\n  name = deparse(substitute(df))\n  \n  output <- df %>%\n    fortify.zoo() %>% \n    as_tibble() %>%\n    mutate(stock_symbol = name) %>%\n    select(stock_symbol,\n           date = 1,\n           open = 2,\n           high = 3,\n           low = 4,\n           close = 5,\n           adj_close = 7,\n           volume = 6) %>%\n    filter(date >= ymd(\"2012-05-18\"))\n  \n  return(output)\n}\nstocks <- xts_to_df(AAPL) %>%  \n  bind_rows(xts_to_df(ADBE)) %>%  \n  bind_rows(xts_to_df(AMZN)) %>%  \n  bind_rows(xts_to_df(CRM)) %>%  \n  bind_rows(xts_to_df(CSCO)) %>%  \n  bind_rows(xts_to_df(GOOGL)) %>%  \n  bind_rows(xts_to_df(IBM)) %>%  \n  bind_rows(xts_to_df(INTC)) %>%  \n  bind_rows(xts_to_df(META)) %>%  \n  bind_rows(xts_to_df(MSFT)) %>%  \n  bind_rows(xts_to_df(NFLX)) %>%  \n  bind_rows(xts_to_df(NVDA)) %>%  \n  bind_rows(xts_to_df(ORCL)) %>%  \n  bind_rows(xts_to_df(TSLA)) %>%\n  inner_join(tt$big_tech_companies, by = \"stock_symbol\") %>%\n  mutate(company_short = str_remove(str_remove(str_remove(company, \" Corporation\"), \" Inc.\"), \",\"),\n         company_short = case_when(\n           company_short == \"International Business Machines\" ~ \"IBM\",\n           company_short == \"Cisco Systems\" ~ \"Cisco\",\n           company_short == \"Meta Platforms\" ~ \"Meta\",\n           TRUE ~ company_short\n         ))\n```\n:::\n\n# Visualize\n\nUsing your processed dataset, create your unique visualization.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstocks %>%\n  ggplot(aes(date, adj_close)) +\n  geom_point(color = \"gray\", alpha = 0.25, size = 0.5) +\n  geom_smooth(aes(color = company_short), method = \"loess\", se = FALSE, lty = 1, size = 2) +\n  facet_wrap(~company_short, scales = \"free_y\") +\n  scale_y_continuous(labels = dollar_format()) +\n  theme(legend.position = \"none\") +\n  labs(x = \"\",\n       y = \"Adjusted Closing Price\",\n       title = \"Big Tech Stock Prices\",\n       caption = tt_caption)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Codetables_files/figure-html/Visualize-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(reactable)\nlibrary(reactablefmtr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'reactablefmtr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:ggplot2':\n\n    margin\n```\n:::\n\n```{.r .cell-code}\nstocks_df <- stocks %>%\n  group_by(stock_symbol) %>%\n  summarize(first_adj_close = dplyr::first(adj_close),\n            last_adj_close = dplyr::last(adj_close)) %>%\n  ungroup() %>%\n  inner_join(stocks %>% distinct(stock_symbol, company_short), by = \"stock_symbol\") %>%\n  mutate(pct_change = (last_adj_close - first_adj_close) / first_adj_close,\n         logo = paste0(\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/\",stock_symbol,\".png\")) %>%\n  select(logo, company_short, stock_symbol, first_adj_close, last_adj_close, pct_change) %>%\n  arrange(desc(pct_change)) \nstocks_table <- stocks_df %>%\n  reactable(defaultPageSize = 14,\n            theme = fivethirtyeight(),\n            columns = list(\n              logo = colDef(\n                name = \"\",\n                maxWidth = 70,\n                align = \"center\",\n                cell = embed_img(height = \"25\", width = \"25\")\n    ),\n              company_short = colDef(name = \"COMPANY\"), \n              stock_symbol = colDef(name = \"STOCK SYMBOL\"), \n              first_adj_close = colDef(name = \"ADJUSTED CLOSE: 5/18/2012\", \n                                       format = colFormat(prefix = \"$\", separators = TRUE, digits = 2)), \n              last_adj_close = colDef(name = \"ADJUSTED CLOSE: 2/7/2023\", \n                                       format = colFormat(prefix = \"$\", separators = TRUE, digits = 2)), \n              pct_change = colDef(name = \"% CHANGE\",\n                                  format = colFormat(percent = TRUE, digits = 0),\n                                  style = color_scales(stocks_df, colors = viridis::viridis(5)))\n            ))  %>%\n  add_title(\"Big Tech Stock Prices\") %>% \n  add_subtitle(\"How have their stock prices changed since Meta went public on 5/18/2012?\") %>% \n  add_source(tt_caption)\nstocks_table\n```\n\n::: {.cell-output-display}\n```{=html}\n<h1 style=\"color:#000;background:#FFFFFF;text-align:left;font-size:32px;font-style:normal;font-weight:bold;text-decoration:;letter-spacing:px;word-spacing:px;text-transform:;text-shadow:;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px\">Big Tech Stock Prices</h1>\n<h2 style=\"color:#000;background:#FFFFFF;text-align:left;font-size:24px;font-style:normal;font-weight:bold;text-decoration:;letter-spacing:px;word-spacing:px;text-transform:;text-shadow:;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px\">How have their stock prices changed since Meta went public on 5/18/2012?</h2>\n<div class=\"reactable html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-576e1fb2d08df4c286e8\" style=\"width:auto;height:auto;\"></div>\n<p style=\"color:#000;background:#FFFFFF;text-align:left;font-size:16px;font-style:normal;font-weight:normal;text-decoration:;letter-spacing:px;word-spacing:px;text-transform:;text-shadow:;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px\">Source: Yahoo Finance via Kaggle (by Evan Gower)   |  DataViz: Tony Galvan  |  Twitter: @GDataScience1  |  #TidyTuesday</p>\n<script type=\"application/json\" data-for=\"htmlwidget-576e1fb2d08df4c286e8\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"logo\":[\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/TSLA.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/NVDA.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/NFLX.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/ADBE.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/MSFT.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/AAPL.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/AMZN.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/GOOGL.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/CRM.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/META.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/ORCL.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/CSCO.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/INTC.png\",\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/IBM.png\"],\"company_short\":[\"Tesla\",\"NVIDIA\",\"Netflix\",\"Adobe\",\"Microsoft\",\"Apple\",\"Amazon.com\",\"Alphabet\",\"Salesforce\",\"Meta\",\"Oracle\",\"Cisco\",\"Intel\",\"IBM\"],\"stock_symbol\":[\"TSLA\",\"NVDA\",\"NFLX\",\"ADBE\",\"MSFT\",\"AAPL\",\"AMZN\",\"GOOGL\",\"CRM\",\"META\",\"ORCL\",\"CSCO\",\"INTC\",\"IBM\"],\"first_adj_close\":[1.837333,2.771612,9.994286,31.309999,23.780983,16.14662,10.6925,15.025025,36.395,38.23,21.803539,11.818027,18.742119,124.114586],\"last_adj_close\":[207.320007,223.369995,362.5,375.809998,263.619995,150.869995,98.239998,95.010002,173.660004,177.919998,86.650002,46.73,27.73,133.75],\"pct_change\":[111.837469854403,79.5920868433244,35.2707250923177,11.0028748004751,10.0853279277816,8.3437508902792,8.18774823474398,5.32345051006571,3.77153466135458,3.65393664661261,2.97412557658644,2.95412872216318,0.479555219983397,0.0776332122640283]},\"columns\":[{\"id\":\"logo\",\"name\":\"\",\"type\":\"character\",\"cell\":[{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/TSLA.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/NVDA.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/NFLX.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/ADBE.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/MSFT.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/AAPL.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/AMZN.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/GOOGL.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/CRM.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/META.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/ORCL.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/CSCO.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/INTC.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"justifyContent\":\"center\"}},\"children\":[{\"name\":\"img\",\"attribs\":{\"src\":\"https://raw.githubusercontent.com/tashapiro/TidyTuesday/master/2023/W6/logos/IBM.png\",\"align\":\"center\",\"height\":\"25\",\"width\":\"25\"},\"children\":[]}]}]}],\"maxWidth\":70,\"align\":\"center\"},{\"id\":\"company_short\",\"name\":\"COMPANY\",\"type\":\"character\"},{\"id\":\"stock_symbol\",\"name\":\"STOCK SYMBOL\",\"type\":\"character\"},{\"id\":\"first_adj_close\",\"name\":\"ADJUSTED CLOSE: 5/18/2012\",\"type\":\"numeric\",\"format\":{\"cell\":{\"prefix\":\"$\",\"digits\":2,\"separators\":true},\"aggregated\":{\"prefix\":\"$\",\"digits\":2,\"separators\":true}}},{\"id\":\"last_adj_close\",\"name\":\"ADJUSTED CLOSE: 2/7/2023\",\"type\":\"numeric\",\"format\":{\"cell\":{\"prefix\":\"$\",\"digits\":2,\"separators\":true},\"aggregated\":{\"prefix\":\"$\",\"digits\":2,\"separators\":true}}},{\"id\":\"pct_change\",\"name\":\"% CHANGE\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":0,\"percent\":true},\"aggregated\":{\"digits\":0,\"percent\":true}},\"style\":[{\"background\":\"#FDE725FF\",\"color\":\"black\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#53BF69FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#34628BFF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#402069FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#401E67FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#411864FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#411863FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#42105EFF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#420B5BFF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#420B5BFF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#430959FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#430959FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#430254FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"},{\"background\":\"#440154FF\",\"color\":\"white\",\"fontSize\":null,\"fontWeight\":\"normal\",\"transition\":\"background 1s ease\"}]}],\"defaultPageSize\":14,\"theme\":{\"color\":\"#222222\",\"backgroundColor\":\"#ffffff\",\"borderColor\":\"#dddddd\",\"borderWidth\":\"1px\",\"stripedColor\":\"#dddddd\",\"highlightColor\":\"#f0f0f0\",\"cellPadding\":5,\"tableStyle\":{\"fontSize\":14,\"borderBottom\":\"3px solid #222222\"},\"headerStyle\":{\"borderWidth\":\"3px\",\"paddingTop\":\"12px\",\"verticalAlign\":\"bottom\",\"textAlign\":\"bottom\",\"background\":\"#ffffff\",\"textTransform\":\"uppercase\",\"borderColor\":\"#222222\",\"color\":\"#000000\",\"&:hover\":{\"background\":\"#dddddd\"},\"&[aria-sort='ascending'], &[aria-sort='descending']\":{\"background\":\"#5b5e5f\",\"color\":\"#ffffff\"},\"borderColor.1\":\"#333\",\"fontSize\":12},\"groupHeaderStyle\":{\"&:not(:empty)\":{\"paddingBottom\":\"3px\",\"verticalAlign\":\"bottom\",\"textAlign\":\"bottom\",\"backgroundColor\":\"#ffffff\",\"textTransform\":\"uppercase\",\"fontSize\":12,\"color\":\"#222222\"}},\"rowSelectedStyle\":{\"backgroundColor\":\"#dddddd\"},\"inputStyle\":{\"backgroundColor\":\"#ffffff\",\"color\":\"#222222\"},\"searchInputStyle\":{\"textTransform\":\"uppercase\",\"color\":\"#222222\",\"fontSize\":\"14px\"},\"paginationStyle\":{\"textTransform\":\"uppercase\",\"fontSize\":\"14px\"},\"pageButtonStyle\":{\"textTransform\":\"uppercase\",\"fontSize\":\"14px\"}},\"dataKey\":\"f1e29bca0fc09c30a74570cad19bb3a2\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstocks %>%\n  group_by(company_short) %>%\n  mutate(period_high = max(adj_close),\n         period_low = min(adj_close)) %>%\n  ungroup() %>%\n  mutate(normalized_value = (adj_close - period_low) / (period_high - period_low)) %>%\n  ggplot(aes(date, company_short, fill = normalized_value)) +\n  geom_tile() +\n  scale_fill_viridis_c(labels = percent_format()) +\n  theme(panel.grid = element_blank(),\n        panel.border = element_blank(),\n        axis.ticks = element_blank()) +\n  labs(x = \"\",\n       y = \"\",\n       fill = \"% of high\\n \",\n       title = \"Big Tech Stock Prices: Since Meta IPO\",\n       subtitle = \"Heatmap of normalized adjusted close (since 5/18/2012)\",\n       caption = tt_caption)\n```\n\n::: {.cell-output-display}\n![](Codetables_files/figure-html/HeatMap-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Codetables_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/core-js-2.5.3/shim.min.js\"></script>\r\n<script src=\"site_libs/react-17.0.0/react.min.js\"></script>\r\n<script src=\"site_libs/react-17.0.0/react-dom.min.js\"></script>\r\n<script src=\"site_libs/reactwidget-1.0.0/react-tools.js\"></script>\r\n<script src=\"site_libs/htmlwidgets-1.6.1/htmlwidgets.js\"></script>\r\n<link href=\"site_libs/reactable-0.4.3/reactable.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/reactable-binding-0.4.3/reactable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}